@Kopernicus:AFTER[Kopernicus]
{
    Body
    {
		name = Derso
		flightGlobalsIndex = 106
		cacheFile = New_Horizons/Cache/Derso.bin
		Template
		{
			name = Gilly
			removePQSMods = PQSLandControl, PQSMod_AltitudeAlpha,PQSMod_VertexSimplexHeightAbsolute, PQSMod_VertexHeightNoise
		}
		Orbit
		{
            referenceBody = Laythe
            inclination = 9
            eccentricity = 0.05
            semiMajorAxis = 8412189
            longitudeOfAscendingNode = 112
            argumentOfPeriapsis = 45
            meanAnomalyAtEpoch = 12
            epoch = 1000
            color = 0.8,0.7,0.5,1
		}
		Properties
		{
            description = Derso is home to the one of the most prominent impact sites in the system. Originally, astronomers believed they were just looking at the reflection of their own eyes in the telescopes. It took many years to figure out it was a planet.
            radius = 240000
            geeASL = 0.615
			rotationPeriod = 109444.48852735
			rotates = true
			tidallyLocked = false
			initialRotation = 0
			isHomeWorld = false
			timewarpAltitudeLimits = 0 30000 30000 60000 100000 300000 600000 800000

			biomeMap = New_Horizons/KopernicusFiles/NewHorizonPlanets/Derso/PluginData/Derso_biome.png

            Biomes
            {
                Biome
                {
                    name = Alpha Impact Site
                    value = 1.0
                    color = 1,1,1,1
                }
                Biome
                {
                    name = Impacted Flatlands
                    value = 1.0
                    color = 1,0,0,1
                }
                Biome
                {
                    name = Cratered Lowlands
                    value = 1.0
                    color = 0,0,0,1
                }
                Biome
                {
                    name = Surface
                    value = 1.0
                    color = 0,0,1,1
                }
                Biome
                {
                    name = Highlands
                    value = 1.0
                    color = 0,1,0,1
                }
			}				
			ScienceValues
			{
				landedDataValue = 3.8
				inSpaceLowDataValue = 3.2
				inSpaceHighDataValue = 3
				recoveryValue = 3.8
				spaceAltitudeThreshold = 100000
			}
		}
		ScaledVersion
		{
			type = Vacuum
			fadeStart = 0
			fadeEnd = 0

			Material
			{
				texture = New_Horizons/KopernicusFiles/NewHorizonPlanets/Derso/Textures/Derso_color
				normals = New_Horizons/KopernicusFiles/NewHorizonPlanets/Derso/Textures/Derso_normal
				shininess = 0
				specular = 0.0,0.0,0.0,0

			}
		}
        PQS
        {
            maxQuadLengthsPerFrame = 0.03
            minLevel = 2
            maxLevel = 6
            minDetailDistance = 8

            materialType = AtmosphericOptimized
            Material
            {
                saturation = 1
                contrast = 1.8
                tintColor = 1.000,1.000,1.000,0.000

                powerNear = 0.5
                powerFar = 0.5

                groundTexStart = 0
                groundTexEnd = 1000

                steepPower = 1.25
                steepTexStart = 0
                steepTexEnd = 50000
                steepTex = BUILTIN/terrain_rock00
                steepBumpMap = BUILTIN/RockyGround2
                steepNearTiling = 100
                steepTiling = 60

                lowTex = BUILTIN/SandyGround
                lowBumpMap = BUILTIN/quiet
                lowNearTiling = 2000
                lowMultiFactor = 100
                lowBumpNearTiling = 2000
                lowBumpFarTiling = 4000

                midTex = BUILTIN/terrain_sand00
                midBumpMap = BUILTIN/SandyGround
                midNearTiling = 4000
                midMultiFactor = 100
                midBumpNearTiling = 4000
                midBumpFarTiling = 4000

                highTex = BUILTIN/RockyGround
                highBumpMap = BUILTIN/quiet
                highNearTiling = 4000
                highMultiFactor = 100
                highBumpNearTiling = 8000
                highBumpFarTiling = 4000

                lowStart = 0
                lowEnd = 0.3
                highStart = 0.8
                highEnd = 1

                globalDensity = 0
                fogColorRamp = BUILTIN/desert_atmogradient
            }

            Mods
			{
				VertexColorMap
				{
					map = New_Horizons/KopernicusFiles/NewHorizonPlanets/Derso/Textures/Derso_color.dds
					order = 500
					enabled = true
				}

				VertexHeightMap
				{
					map = New_Horizons/KopernicusFiles/NewHorizonPlanets/Derso/PluginData/Derso_height.dds
					offset = 200
					deformity = 11500.0
					scaleDeformityByRadius = true
					order = 100
					enabled = true
				}

				VertexSimplexHeight
				{
					seed = 2211221
					deformity = 400
					octaves = 8
					persistence = 0.5
					frequency = 12
					enabled = true
					order = 102
				}

				VertexSimplexNoiseColor
				{
					seed = 45
					blend = 1.0
					colorStart = 0.768656731,0.6996614,0.653089464,1
					colorEnd = 0,0,0,1
					octaves = 12.0
					persistence = 0.5
					frequency = 2.0
					enabled = true
					order = 200
				}

				HeightColorMap
				{
					blend = 0.7
					order = 201
					enabled = true
					LandClasses
					{
						Class
						{
							name = AbyPl
							altitudeStart = 0.0
							altitudeEnd = 0.5
							color = 0.0,0.0,0.0,1.0
							lerpToNext = true
						}
						Class
						{
							name = Beach
							altitudeStart = 0.5
							altitudeEnd = 0.55
							color = 0.164179087,0.164179087,0.164179087,1.0
							lerpToNext = true
						}
						Class
						{
							name = Beach2
							altitudeStart = 0.55
							altitudeEnd = 1.0
							color = 0.373134315,0.373134315,0.373134315,1.0
							lerpToNext = false
						}
					}
				}
				VertexHeightNoiseVertHeight
				{
					noiseType = Perlin
					deformity = 400
					seed = 1283704385
					frequency = 12
					lacunarity = 2
					persistance = 0.5
					octaves = 6
					mode = Low
					heightStart = 0
					heightEnd = 1
					enabled = true
					order = 103
				}
				VertexHeightNoiseVertHeightCurve2
				{
					deformity = 500
					ridgedAddSeed = 3548941
					ridgedAddFrequency = 8
					ridgedAddLacunarity = 2
					ridgedAddOctaves = 3
					ridgedSubSeed = 4553545
					ridgedSubFrequency = 8
					ridgedSubLacunarity = 2
					ridgedSubOctaves = 3
					ridgedMode = Low
					simplexHeightStart = 0
					simplexHeightEnd = 9000
					simplexSeed = 439894
					simplexOctaves = 5
					simplexPersistence = 0.699999988079071
					simplexFrequency = 4
					enabled = true
					order = 100
				}
				VertexSimplexHeightAbsolute
				{
					seed = 666
					deformity = 500
					octaves = 1
					persistence = 1
					frequency = 50.0
					enabled = True
					order = 100
				}
			}
		}
	}
}